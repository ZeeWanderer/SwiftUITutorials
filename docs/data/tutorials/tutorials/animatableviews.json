{"metadata":{"title":"Animatable conforming Views and You","categoryPathComponent":"Tutorial-Table-of-Contents","role":"project","category":"SwiftUI Tutorials"},"hierarchy":{"modules":[{"reference":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents\/Animation","projects":[{"reference":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/StructureAnimations","sections":[{"kind":"task","reference":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/StructureAnimations#Basic-Structure-change-animations"}]},{"reference":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/AnimatableViews","sections":[{"kind":"task","reference":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/AnimatableViews#Animatable-View"}]}]}],"reference":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents","paths":[["doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents\/Animation"]]},"schemaVersion":{"major":0,"minor":2,"patch":0},"kind":"project","identifier":{"url":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/AnimatableViews","interfaceLanguage":"swift"},"sections":[{"kind":"hero","title":"Animatable conforming Views and You","chapter":"Animation","estimatedTimeInMinutes":20,"content":[]},{"kind":"tasks","tasks":[{"anchor":"Animatable-View","title":"Animatable View","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In this section you will learn how to use Animatable views."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":"tutorial-animatableviews-ContentView-00.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lets create a basic ContentView for SwiftUI application."}]}],"caption":[],"type":"step","runtimePreview":"tutorial-animatableviews-ContentView-00-preview.png","media":null},{"code":"tutorial-animatableviews-ContentView-01.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lets create an Animatable conforming counter view."}]}],"caption":[],"type":"step","runtimePreview":"tutorial-animatableviews-ContentView-01-preview.png","media":null},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lets test it with a preview."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"tutorial-animatableviews-ContentView-01-livepreview.mov"},{"code":"tutorial-animatableviews-ContentView-02.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"But what about shapes? Lets add an Animatable conforming Shape."}]}],"caption":[],"type":"step","runtimePreview":"tutorial-animatableviews-ContentView-02-preview.png","media":null},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lets test it with a preview."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"tutorial-animatableviews-ContentView-02-livepreview.mov"}]}]}],"references":{"tutorial-animatableviews-ContentView-00-preview.png":{"alt":"Preview","type":"image","identifier":"tutorial-animatableviews-ContentView-00-preview.png","variants":[{"url":"\/images\/tutorial-animatableviews-ContentView-00-preview.png","traits":["1x","light"]}]},"tutorial-animatableviews-ContentView-02-livepreview.mov":{"poster":"tutorial-animatableviews-ContentView-02-preview.png","alt":null,"type":"video","identifier":"tutorial-animatableviews-ContentView-02-livepreview.mov","variants":[{"url":"\/videos\/tutorial-animatableviews-ContentView-02-livepreview.mov","traits":["1x","light"]}]},"doc://five.systems.development.Tutorials.Tutorials/tutorials/Tutorial-Table-of-Contents":{"role":"overview","title":"Animation","abstract":[{"type":"text","text":"Animation tutorials."}],"identifier":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents","kind":"overview","type":"topic","url":"\/tutorials\/tutorial-table-of-contents"},"doc://five.systems.development.Tutorials.Tutorials/tutorials/Tutorial-Table-of-Contents/Animation":{"role":"article","title":"Animation","abstract":[],"identifier":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorial-Table-of-Contents\/Animation","kind":"article","type":"topic","url":"\/tutorials\/tutorial-table-of-contents\/animation"},"tutorial-animatableviews-ContentView-02.swift":{"syntax":"swift","content":["import SwiftUI","","struct IntCounter: Animatable, View","{","    private static let min_count = 0","    private static let max_count = 100","    ","    let ascending: Bool","    var count: Int","    ","    init(ascending: Bool)","    {","        self.ascending = ascending","        count = ascending ? IntCounter.max_count : IntCounter.min_count","    }","    ","    var animatableData: CGFloat","    {","        get { CGFloat(ascending ? IntCounter.max_count : IntCounter.min_count) }","        set { count = Int(newValue) }","    }","    ","    var body: some View","    {","        Text(\"\\(count)\")","    }","}","","struct WobblingShape: Shape","{","    var sides: Double","    ","    var animatableData: Double","    {","        get { sides }","        set { sides = newValue }","    }","    ","    func path(in rect: CGRect) -> Path","    {","        let hypotenuse = Double(min(rect.size.width, rect.size.height)) \/ 2.0","        let center = CGPoint(x: rect.size.width \/ 2.0, y: rect.size.height \/ 2.0)","        ","        var path = Path()","        ","        let extra: Int = Double(sides) != Double(Int(sides)) ? 1 : 0","        for i in 0..<Int(sides) + extra","        {","            let angle = (Double(i) * (360.0 \/ Double(sides))) * Double.pi \/ 180","            ","            \/\/ Calculate vertex","            let pt = CGPoint(x: center.x + CGFloat(cos(angle) * hypotenuse), y: center.y + CGFloat(sin(angle) * hypotenuse))","            ","            if i == 0","            {","                path.move(to: pt) \/\/ move to first vertex","            }","            else","            {","                path.addLine(to: pt) \/\/ draw line to next vertex","            }","        }","        ","        path.closeSubpath()","        return path","    }","}","","struct ContentView: View","{","    @State var animate = false","    ","    var body: some View","    {","        VStack","        {","            Text(\"Hello, world!\")","                .padding()","            IntCounter(ascending: animate)","                .animation(.linear(duration: 5), value: animate)","            WobblingShape(sides: animate ? 3 : 12)","                .fill(animate ? .green : .red)","                .frame(width: 100, height: 100)","                .animation(.easeOut(duration: 3), value: animate)","        }","        .onTapGesture {","            animate.toggle()","        }","    }","}"],"fileName":"ContentView.swift","identifier":"tutorial-animatableviews-ContentView-02.swift","type":"file","fileType":"swift","highlights":[{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62},{"line":63},{"line":64},{"line":65},{"line":66},{"line":67},{"line":68},{"line":81},{"line":82},{"line":83},{"line":84}]},"tutorial-animatableviews-ContentView-01.swift":{"syntax":"swift","content":["import SwiftUI","","struct IntCounter: Animatable, View","{","    private static let min_count = 0","    private static let max_count = 100","    ","    let ascending: Bool","    var count: Int","    ","    init(ascending: Bool)","    {","        self.ascending = ascending","        count = ascending ? IntCounter.max_count : IntCounter.min_count","    }","    ","    var animatableData: CGFloat","    {","        get { CGFloat(ascending ? IntCounter.max_count : IntCounter.min_count) }","        set { count = Int(newValue) }","    }","    ","    var body: some View","    {","        Text(\"\\(count)\")","    }","}","","struct ContentView: View","{","    @State var animate = false","    ","    var body: some View","    {","        VStack","        {","            Text(\"Hello, world!\")","                .padding()","            IntCounter(ascending: animate)","                .animation(.linear(duration: 5), value: animate)","            ","        }","        .onTapGesture {","            animate.toggle()","        }","    }","}"],"fileName":"ContentView.swift","identifier":"tutorial-animatableviews-ContentView-01.swift","type":"file","fileType":"swift","highlights":[{"line":3},{"line":4},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":31},{"line":32},{"line":39},{"line":40},{"line":41},{"line":43},{"line":44},{"line":45}]},"doc://five.systems.development.Tutorials.Tutorials/tutorials/Tutorials/AnimatableViews#Animatable-View":{"role":"pseudoSymbol","title":"Animatable View","abstract":[],"identifier":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/AnimatableViews#Animatable-View","kind":"section","type":"section","url":"\/tutorials\/tutorials\/animatableviews#Animatable-View"},"doc://five.systems.development.Tutorials.Tutorials/tutorials/Tutorials/StructureAnimations#Basic-Structure-change-animations":{"role":"pseudoSymbol","title":"Basic Structure change animations","abstract":[],"identifier":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/StructureAnimations#Basic-Structure-change-animations","kind":"section","type":"section","url":"\/tutorials\/tutorials\/structureanimations#Basic-Structure-change-animations"},"doc://five.systems.development.Tutorials.Tutorials/tutorials/Tutorials/AnimatableViews":{"role":"project","title":"Animatable conforming Views and You","estimatedTime":"20min","abstract":[],"identifier":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/AnimatableViews","kind":"project","type":"topic","url":"\/tutorials\/tutorials\/animatableviews"},"tutorial-animatableviews-ContentView-01-preview.png":{"alt":"Preview","type":"image","identifier":"tutorial-animatableviews-ContentView-01-preview.png","variants":[{"url":"\/images\/tutorial-animatableviews-ContentView-01-preview.png","traits":["1x","light"]}]},"doc://five.systems.development.Tutorials.Tutorials/tutorials/Tutorials/StructureAnimations":{"role":"project","title":"SwiftUI Structure Change Animations and You","estimatedTime":"20min","abstract":[],"identifier":"doc:\/\/five.systems.development.Tutorials.Tutorials\/tutorials\/Tutorials\/StructureAnimations","kind":"project","type":"topic","url":"\/tutorials\/tutorials\/structureanimations"},"tutorial-animatableviews-ContentView-01-livepreview.mov":{"poster":"tutorial-animatableviews-ContentView-01-preview.png","alt":null,"type":"video","identifier":"tutorial-animatableviews-ContentView-01-livepreview.mov","variants":[{"url":"\/videos\/tutorial-animatableviews-ContentView-01-livepreview.mov","traits":["1x","light"]}]},"tutorial-animatableviews-ContentView-00.swift":{"syntax":"swift","content":["import SwiftUI","","struct ContentView: View","{","    var body: some View","    {","        VStack","        {","            Text(\"Hello, world!\")","                .padding()","        }","    }","}"],"fileName":"ContentView.swift","identifier":"tutorial-animatableviews-ContentView-00.swift","type":"file","fileType":"swift","highlights":[]},"tutorial-animatableviews-ContentView-02-preview.png":{"alt":"Preview","type":"image","identifier":"tutorial-animatableviews-ContentView-02-preview.png","variants":[{"url":"\/images\/tutorial-animatableviews-ContentView-02-preview.png","traits":["1x","light"]}]}}}